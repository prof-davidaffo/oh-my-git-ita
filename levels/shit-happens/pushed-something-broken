title = Ho pushato qualcosa di rotto
cards = revert push

[description]

Stavamo parlando di come annullare un commit e sistemarlo. Questo aiuta solo quando non lo hai ancora pushato su un remote. Quando invece e' gia' successo e vuoi annullare completamente gli effetti del commit, la scelta migliore e' `git revert`

[setup]

echo "va tutto bene

?

?

?" > testo
git add .
git commit -m fine
echo "va tutto bene

anche questo va bene

?

?" > testo
git commit -am "also fine"
echo "va tutto bene

anche questo va bene

questa cosa e' molto brutta

?" > testo
git commit -am "very bad"
echo "va tutto bene

anche questo va bene

questa cosa e' molto brutta

va di nuovo bene" > testo
git commit -am "fine again"

git push team main
git branch -u team/main main

[setup team]

[win team]

# Il branch main del team non contiene piu' la cosa brutta.
! { git show main:testo | grep -q "molto brutta"; }
# E la cronologia non e' stata modificata.
git show main^:testo | grep -q "molto brutta"
