title = Eliminare branch
cards = checkout commit-auto reset-hard branch-delete

[description]

La vita e' piena di pericoli, vero? Anche solo andando a scuola, sembra ci siano molti rischi!

Questo lunedi' e' particolarmente brutto. Sei arrivato a scuola, ma ci sono alcune linee temporali che non vuoi proprio tenere.

[setup]

echo Esci di casa e inizi a camminare verso scuola. > io
git add .
git commit -m "Buongiorno!"

echo Cammini sul lato destro della strada. >> io
git commit -am "Lato destro"

echo Salti un tombino sul marciapiede e arrivi a scuola in orario. >> io
git commit -am "Salto"

git checkout HEAD^ -b amico
echo Improvvisamente cadi, finisci in acqua puzzolente e vieni mangiato da un alligatore. >> io
git commit -am "Un nuovo amico"

git checkout HEAD~2 -b musica
echo Cammini sul lato sinistro della strada. >> io
git commit -am "Lato sinistro"

echo Siccome sei un po' in ritardo, inizi a correre. Qualcuno butta un pianoforte dalla finestra e ti schiaccia. >> io
git commit -am "Che bello"

git checkout HEAD^ -b gelato
echo Non hai fretta e cammini lentamente. Prendi anche un gelato lungo la strada. Arrivi a scuola troppo tardi, il tuo insegnante si arrabbia e vieni espulso. >> io
git commit -am "Gnam"

git branch -M main salto
git checkout salto^^

[win]

# Trova i branch sbagliati ed eliminali. Tieni solo il migliore.
test "$(git show-ref --heads | cut -f2 -d' ')" = "$(echo refs/heads/salto)"

[congrats]

Ripensandoci, forse preferisci persino la linea temporale del gelato a quella principale? :)
