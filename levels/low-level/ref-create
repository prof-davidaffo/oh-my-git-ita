[description]

Diamo un'occhiata ai "ref" (abbreviazione di "references")! I ref non sono oggetti, ma semplici *puntatori* a oggetti! Possono aiutarti a tenere traccia di dove si trova cosa.

Puoi creare o aggiornare un ref con

    git update-ref refs/<refname> <newvalue>

Assicurati di iniziare sempre il nome di un ref con "refs/"! E' una convenzione che aiuta Git a trovare tutti i ref che crei. Se ti dimentichi "refs/", non vedrai il ref.

Crea ref che puntano a tutti gli oggetti in questo repository!

[setup]

echo ciao > hello
echo mondo > world
BLOB1=$(git hash-object -w hello)
BLOB2=$(git hash-object -w world)
git add .
TREE=$(git write-tree)
COMMIT=$(git commit-tree $TREE -m "Initial commit")

[setup goal]

echo ciao > hello
echo mondo > world
BLOB1=$(git hash-object -w hello)
BLOB2=$(git hash-object -w world)
git add .
TREE=$(git write-tree)
COMMIT=$(git commit-tree $TREE -m "Initial commit")

git update-ref refs/a $BLOB1
git update-ref refs/b $BLOB2
git update-ref refs/c $TREE
git update-ref refs/d $COMMIT

[win]

OBJECTS=$(git cat-file --batch-check='%(objectname)' --batch-all-objects | sort)
REF_TARGETS=$(git show-ref -s | sort | uniq)
test "$OBJECTS" = "$REF_TARGETS"
