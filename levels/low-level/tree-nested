[description]

I tree possono anche puntare ad altri tree! In questo modo possono descrivere strutture di directory annidate.

Quando aggiungi un file dentro una directory all'index e poi chiami `git write-tree`, verra' creato un tree annidato per la directory e il blob verra' collegato a quello.

Per risolvere questo livello, costruisci un omino stilizzato come mostrato a sinistra: un tree che punta a due blob e a un tree che punta a due blob.

[setup]

[setup goal]

echo "Sono il braccio sinistro" > braccio_sx
echo "Sono il braccio destro" > braccio_dx
mkdir anca
echo "Sono la gamba sinistra" > anca/gamba_sx
echo "Sono la gamba destra" > anca/gamba_dx
git add .
git write-tree

[win]

TREES=$(git cat-file --batch-check='%(objectname) %(objecttype)' --batch-all-objects | grep tree | cut -f1 -d" ")

for OUTER_TREE in $TREES; do
    NUMBER_OF_BLOB_CHILDREN=$(git cat-file -p $OUTER_TREE | cut -f2 -d" " | grep blob | wc -l)
    NUMBER_OF_TREE_CHILDREN=$(git cat-file -p $OUTER_TREE | cut -f2 -d" " | grep tree | wc -l)

    if [ $NUMBER_OF_BLOB_CHILDREN -eq 2 -a $NUMBER_OF_TREE_CHILDREN -eq 1 ]; then
        TREE_CHILD=$(git cat-file -p $OUTER_TREE | cut -f1 | grep tree | cut -d" " -f3)
        NUMBER_OF_BLOB_CHILDREN_OF_TREE_CHILD=$(git cat-file -p $TREE_CHILD | cut -f2 -d" " | grep blob | wc -l)
        if [ $NUMBER_OF_BLOB_CHILDREN_OF_TREE_CHILD -eq 2 ]; then
            return 0
        fi
    fi
done

return 1
