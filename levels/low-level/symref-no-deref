[description]

Quando hai un ref simbolico (un ref che punta a un altro ref) e decidi che vuoi che torni a essere un ref normale (che punta a un oggetto), ti aspetta qualche problema! :)

Cosa succede quando provi a puntare il ref simbolico direttamente al blob usando `git update-ref`?

Ops! A quanto pare, quando fai riferimento a un ref simbolico, si comporta come se avessi specificato il ref a cui punta. Per de-simbolizzarlo, usa l'opzione `--no-deref` subito dopo `update-ref`!

Strano, vero?

[congrats]

Uff, abbiamo coperto molte cose: blob! index! tree! commit! ref!

Ora sai quasi tutto su come i repository Git sono fatti all'interno! Pensiamo che sia piuttosto figo! :)

Tutto il resto sono convenzioni e comandi di alto livello che rendono piu' comoda l'interazione con gli oggetti.

Non abbiamo trattato:

- oggetti tag (sono il quarto tipo di oggetto, un po' come ref con descrizione e autore)
- configurazione (ti permette di specificare repository remoti, per esempio)
- lavoro con i file locali (che, ehm, e' probabilmente piuttosto importante :P)

Grazie per aver giocato! Puoi dare un'occhiata ai livelli "puzzle" nel menu a tendina, alcuni sono piu' avanzati!

[setup]

BLOB1=$(echo delicious | git hash-object -w --stdin)
BLOB2=$(echo very | git hash-object -w --stdin)
git update-ref refs/curly "$BLOB1"
git symbolic-ref refs/fries refs/curly

[setup goal]

BLOB1=$(echo delicious | git hash-object -w --stdin)
BLOB2=$(echo very | git hash-object -w --stdin)
git update-ref refs/curly "$BLOB1"
git symbolic-ref refs/fries refs/curly

git update-ref --no-deref refs/fries "$BLOB2"

[win]

git symbolic-ref refs/fries && return 1
test "$(git show-ref -s refs/fries)" = "035e2968dafeea08e46e8fe6743cb8123e8b9aa6"
