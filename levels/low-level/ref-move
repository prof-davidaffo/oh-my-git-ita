[description]

Puoi puntare i ref a una nuova posizione usando lo stesso comando che usi per crearli:

    git update-ref refs/<refname> <object>

Come esercizio, fai in modo che tutti i ref in questo repository puntino all'oggetto tree!

[setup]

echo ciao > ciao
echo mondo > mondo
BLOB1=$(git hash-object -w ciao)
BLOB2=$(git hash-object -w mondo)
git add .
TREE=$(git write-tree)
COMMIT=$(git commit-tree $TREE -m "Commit iniziale")

git update-ref refs/a "$BLOB1"
git update-ref refs/b "$COMMIT"

[setup goal]

echo ciao > ciao
echo mondo > mondo
BLOB1=$(git hash-object -w ciao)
BLOB2=$(git hash-object -w mondo)
git add .
TREE=$(git write-tree)
COMMIT=$(git commit-tree $TREE -m "Commit iniziale")

git update-ref refs/a "$BLOB1"
git update-ref refs/b "$COMMIT"

for REF in $(git for-each-ref --format='%(refname)'); do
    git update-ref "$REF" "$TREE"
done

[win]

test "$(git show-ref -s | sort -u)" = "c7863f72467ed8dd44f4b8ffdb8b57ca7d91dc9e"
