[description]

Quando usi il comando commit-tree, puoi specificare facoltativamente un parent:

    git commit-tree <tree> -m "Description" -p <parent commit>

Crea una catena di tre commit!

Suggerimento: ti servira' un oggetto tree. Qual potrebbe essere il modo piu' semplice per ottenerne uno?

[setup]

[setup goal]

git write-tree
FIRST_COMMIT=$(git commit-tree 4b82 -m 'First commit :O')
SECOND_COMMIT=$(git commit-tree 4b82 -p $FIRST_COMMIT -m 'Second commit :D')
THIRD_COMMIT=$(git commit-tree 4b82 -p $SECOND_COMMIT -m 'Third commit \o/')

[win]

COMMITS=$(git cat-file --batch-check='%(objectname) %(objecttype)' --batch-all-objects | grep commit | cut -f1 -d" ")

for COMMIT in $COMMITS; do
    echo a commit named $COMMIT
    if [ $(git rev-list $COMMIT | wc -l) -ge 3 ]; then
        return 0
    fi
done

return 1
