title = Interrompere un merge
cards = checkout commit-auto merge merge-abort

[description]

A volte vuoi fare il merge di due commit, ma si verifica un conflitto che al momento non vuoi risolvere.

In queste situazioni puoi interrompere il merge per farlo piu' tardi. Usa
    git merge --abort
quando sei nel processo di merge.

Prova a fare il merge di entrambi i commit e poi interrompilo.

[setup]

echo "Sta iniziando un nuovo giorno" > io

git add .
git commit -m "Inizio"

echo "Cammini lungo la Via Principale." >> io

git add .
git commit -m "Via principale"


git checkout HEAD~1

echo "Cammini lungo la Via Laterale." >> io

git add .
git commit -m "Via laterale"

git checkout HEAD~1

git branch -D main

[actions]

if test -f .git/MERGE_HEAD; then
    touch .git/secretfile
fi

[win]

# Hai provato a fare il merge?
test -f .git/secretfile

# Hai interrotto il merge?
test -f .git/secretfile && ! test -f .git/MERGE_HEAD && ! git rev-parse HEAD^^

[congrats]

Aaah, facciamolo piu' tardi...
