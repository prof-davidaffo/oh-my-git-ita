title = Unire linee temporali
cards = checkout commit-auto merge

[description]

Ecco un trucco per dormire un po' di piu': fai tutte le attivita' del mattino in universi paralleli e poi, alla fine, uniscile!

[setup]

echo "Non hai una baguette.

Non hai caffe'.

Non hai una ciambella." > io

git add .
git commit -m "L'inizio"

echo "Hai una baguette.

Non hai caffe'.

Non hai una ciambella." > io
git add .
git commit -m "Compri una baguette"

echo "Hai mangiato una baguette.

Non hai caffe'.

Non hai una ciambella." > io
git add .
git commit -m "Mangi la baguette"

git checkout HEAD~2
echo "Non hai una baguette.

Hai caffe'.

Non hai una ciambella." > io
git add .
git commit -m "Compri del caffe'"

echo "Non hai una baguette.

Hai bevuto il caffe'.

Non hai una ciambella." > io
git add .
git commit -m "Bevi il caffe'"

git checkout HEAD~2
echo "Non hai una baguette.

Non hai caffe'.

Hai una ciambella." > io
git add .
git commit -m "Compri una ciambella"

echo "Non hai una baguette.

Non hai caffe'.

Hai mangiato una ciambella." > io
git add .
git commit -m "Mangi la ciambella"

git checkout --detach
git branch -D main

[win]

# Crea una situazione in cui hai consumato una baguette, un caffe', *e* una ciambella.
{ git show HEAD:io | grep "Hai mangiato.*baguette"; } && { git show HEAD:io | grep "Hai bevuto.*caffe'"; } && { git show HEAD:io | grep "Hai mangiato.*ciambella"; }

# Essere su un commit di merge.
test "$(git log --pretty=%P -n 1 HEAD | wc -w)" -ge 2

[congrats]

Chissa' se sei piu' rilassato quando *dormi* in linee temporali parallele...
